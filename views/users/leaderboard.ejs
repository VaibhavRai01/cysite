<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UMS</title>
    <link rel="stylesheet" href="./leaderboard.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
</head>
<body>
    <div class="heading">leaderboard</div>

    <br><br>
    <div class="tableholder">
    <div class="tbl-content">
    <table cellpadding="0" cellspacing="0" border="0">
        <tr class="blue">
            <th>Rank
            </th>
            <th>Name
            </th>
            <!-- <th>Email</th> -->
            <th>CF ID
            </th>
            <th>cf rating<br><a href="/leaderboard?sort=cf_rating"><span class="material-symbols-outlined">arrow_drop_down</span></a><a href="/leaderboard?sort=cf_rating2"><span class="material-symbols-outlined">arrow_drop_up</span></a></th>
            <th>cf solved<br><a href="/leaderboard?sort=cf_solved"><span class="material-symbols-outlined">arrow_drop_down</span></a><a href="/leaderboard?sort=cf_solved2"><span class="material-symbols-outlined">arrow_drop_up</span></a></th>
            <th>LC ID     </th>
            <th>lc_rating<br><a href="/leaderboard?sort=lc_rating"><span class="material-symbols-outlined">arrow_drop_down</span></a><a href="/leaderboard?sort=lc_rating2"><span class="material-symbols-outlined">arrow_drop_up</span></a></th>
            <th>lc_solved<br><a href="/leaderboard?sort=lc_solved"><span class="material-symbols-outlined">arrow_drop_down</span></a><a href="/leaderboard?sort=lc_solved2"><span class="material-symbols-outlined">arrow_drop_up</span></a></th>
            <th>lc_easy<br><a href="/leaderboard?sort=lc_easy"><span class="material-symbols-outlined">arrow_drop_down</span></a><a href="/leaderboard?sort=lc_easy2"><span class="material-symbols-outlined">arrow_drop_up</span></a></th>
            <th>lc_medium<br><a href="/leaderboard?sort=lc_medium"><span class="material-symbols-outlined">arrow_drop_down</span></a><a href="/leaderboard?sort=lc_medium2"><span class="material-symbols-outlined">arrow_drop_up</span></a></th>
            <th>lc_hard<br><a href="/leaderboard?sort=lc_hard"><span class="material-symbols-outlined">arrow_drop_down</span></a><a href="/leaderboard?sort=lc_hard2"><span class="material-symbols-outlined">arrow_drop_up</span></a></th>
        </tr>
    </table>
    <div  class="scrolltable">
    <table>
        <% if (leaderboard.length > 0) { %>
            <% for (let i = 0; i < leaderboard.length; i++) { 
                if(i==0){ %>
                    <tr class="gold">
                    <% }else if(i==1){ %>
                    <tr class="silver">
                    <% }else if(i==2){ %>
                    <tr class="bronze">
                    <% }else { %>
                    <tr>
                        <% } %>
                        <td><b><%= i+1 %></b></td>
                        <td><b><%= leaderboard[i].name %></b></td>
                        <!-- <td><%= leaderboard[i].email %></td> -->
                        <td><%= leaderboard[i].cf_id %></td>
                        <td><%= leaderboard[i].cf_rating %></td>
                        <td><%= leaderboard[i].cf_solved %></td>
                        <td><%= leaderboard[i].lc_id %></td>
                        <td><%= leaderboard[i].lc_rating %></td>
                        <td><%= leaderboard[i].lc_solved %></td>
                        <td><%= leaderboard[i].lc_easy %></td>
                        <td><%= leaderboard[i].lc_medium %></td>
                        <td><%= leaderboard[i].lc_hard %></td>
                    </tr>
            <% } %>
        <% } else { %>
            <tr>
                <td colspan="5">leaderboard Not Found</td>
            </tr>
        <% } %>
    </table>
    </div>
    <table>
        <% if (leaderboard.length > 0) { %>
            <% for (let i = 0; i < leaderboard.length; i++) { 
                if(leaderboard[i].email==user.email){
                    %><tr class="blue">
                        <td><b><%= i+1 %></b></td>
                        <td><b><%= leaderboard[i].name %></b></td>
                        <!-- <td><%= leaderboard[i].email %></td> -->
                        <td><%= leaderboard[i].cf_id %></td>
                        <td><%= leaderboard[i].cf_rating %></td>
                        <td><%= leaderboard[i].cf_solved %></td>
                        <td><%= leaderboard[i].lc_id %></td>
                        <td><%= leaderboard[i].lc_rating %></td>
                        <td><%= leaderboard[i].lc_solved %></td>
                        <td><%= leaderboard[i].lc_easy %></td>
                        <td><%= leaderboard[i].lc_medium %></td>
                        <td><%= leaderboard[i].lc_hard %></td>
                    </tr> <%
                    break; 
                }
             } 
        } 
        %>
    </table>
    </div>
    </div>
    <div style="padding: 10px;display: flex;justify-content: center;margin-top: 10px;">
    <div class="svg-wrapper">
        <svg height="40" width="150" xmlns="http://www.w3.org/2000/svg">
          <rect id="shape" height="40" width="150"/>
          <div id="text">
            <a href="/home"><span class="spot"></span>Go to home</a>
          </div>
        </svg>
      </div>   
    </div>
</body>
</html>